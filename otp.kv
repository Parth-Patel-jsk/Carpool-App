<OTPScreen>:
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)
        md_bg_color: 0.95, 0.98, 1, 1  # Light blue background to match the image

        # Illustration placeholder at the top
        MDBoxLayout:
            size_hint_y: None
            height: dp(200)  # Height to accommodate the illustration
            md_bg_color: 0, 0, 0, 0  # Transparent background for the container

        Image:
            source: 'assets/otpverify.png.png'
            size_hint: None, None
            size: "300dp", "270dp"  # Slightly smaller size to fit better
            pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the image both horizontally and vertically

        # "Verification" title
        MDLabel:
            text: "Verification"
            halign: "center"
            font_style: "H5"
            theme_text_color: "Primary"
            size_hint_y: None
            height: dp(40)

        # Subtitle
        MDLabel:
            text: "An OTP has been sent to your email id"
            halign: "center"
            theme_text_color: "Secondary"
            font_size: sp(14)  # Slightly smaller font to match the image
            size_hint_y: None
            height: dp(30)

        # OTP input fields
        MDBoxLayout:
            id: otp_fields
            spacing: dp(15)
            pos_hint: {"center_x": 0.5}
            size_hint_y: None
            height: dp(60)
            size_hint_x: 0.8

            MDTextField:
                id: field1
                size_hint_x: 0.2
                max_text_length: 1
                halign: "center"
                font_size: sp(24)
                mode: "rectangle"
                fill_color: 1, 1, 1, 1
                line_color_normal: 0.8, 0.8, 0.8, 1
                line_color_focus: 0.8, 0.8, 0.8, 1
                on_text: root.move_focus(self)

            MDTextField:
                id: field2
                size_hint_x: 0.2
                max_text_length: 1
                halign: "center"
                font_size: sp(24)
                mode: "rectangle"
                fill_color: 1, 1, 1, 1
                line_color_normal: 0.8, 0.8, 0.8, 1
                line_color_focus: 0.8, 0.8, 0.8, 1
                on_text: root.move_focus(self)

            MDTextField:
                id: field3
                size_hint_x: 0.2
                max_text_length: 1
                halign: "center"
                font_size: sp(24)
                mode: "rectangle"
                fill_color: 1, 1, 1, 1
                line_color_normal: 0.8, 0.8, 0.8, 1
                line_color_focus: 0.8, 0.8, 0.8, 1
                on_text: root.move_focus(self)

            MDTextField:
                id: field4
                size_hint_x: 0.2
                max_text_length: 1
                halign: "center"
                font_size: sp(24)
                mode: "rectangle"
                fill_color: 1, 1, 1, 1
                line_color_normal: 0.8, 0.8, 0.8, 1
                line_color_focus: 0.8, 0.8, 0.8, 1
                on_text: root.move_focus(self)

        # Resend code button (moved above Verify button to match the screenshot)
        MDRoundFlatButton:
            text: "Resend code"
            pos_hint: {"center_x": 0.5}
            size_hint_x: 0.9
            size_hint_y: None
            height: dp(50)
            md_bg_color: 1, 1, 1, 1  # White background to match the image
            text_color: 0.5, 0.5, 0.5, 1  # Gray text color
            line_color: 0.8, 0.8, 0.8, 1  # Light gray border
            font_size: sp(16)

        # Verify button
        MDRoundFlatButton:
            text: "Verify"
            pos_hint: {"center_x": 0.5}
            size_hint_x: 0.9
            size_hint_y: None
            height: dp(50)
            md_bg_color: 0, 0.6, 1, 1  # Blue background to match the image
            text_color: 1, 1, 1, 1  # White text color
            font_size: sp(16)
            on_release: app.root.current = "home"

        # Footer label
        MDLabel:
            text: "OTP Verification"
            halign: "center"
            theme_text_color: "Secondary"
            font_size: sp(14)
            size_hint_y: None
            height: dp(30)