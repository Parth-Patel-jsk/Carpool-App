<ProfileScreen>:
    name: "profile"

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(10)
        spacing: dp(8)

        # Top bar with back button and profile heading
        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(48)
            spacing: dp(10)

            MDIconButton:
                icon: "arrow-left"
                on_release: root.manager.current = 'home'

            MDLabel:
                text: "Profile"
                font_style: "H6"
                theme_text_color: "Primary"
                size_hint_x: None
                width: dp(200)

        MDCard:
            size_hint_y: None
            height: "150dp"
            padding: dp(10)
            radius: [dp(8), ]
            
            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)
                
                MDIconButton:
                    icon: "account-circle"
                    user_font_size: "56sp"
                    theme_text_color: "Custom"
                    text_color: 0.13, 0.59, 0.95, 1
                    pos_hint: {"center_y": .5}
                
                BoxLayout:
                    orientation: 'vertical'
                    spacing: dp(3)
                    
                    MDLabel:
                        text: "Keval Parmar"
                        font_style: "H6"
                        theme_text_color: "Primary"
                    
                    MDLabel:
                        text: "Rating: 4.8/5"
                        font_style: "Body2"
                        theme_text_color: "Secondary"
                    
                    MDLabel:
                        text: "Member since: Jan 2023"
                        font_style: "Caption"
                        theme_text_color: "Secondary"
        
        MDSeparator:

        MDLabel:
            text: "Ride History"
            font_style: "H6"
            theme_text_color: "Primary"
            size_hint_y: None
            height: dp(25)
            padding_x: dp(10)
        
        ScrollView:
            MDList:
                padding: [0, 0, 0, 0]
                
                ThreeLineIconListItem:
                    text: "Riverfront to University"
                    secondary_text: "March 15, 2023"
                    tertiary_text: "Rs 5.00"
                    theme_text_color: "Primary"
                    secondary_theme_text_color: "Secondary"
                    tertiary_theme_text_color: "Secondary"
                    
                    IconLeftWidget:
                        icon: "car"
                        theme_text_color: "Custom"
                        text_color: 0.13, 0.59, 0.95, 1
                
                ThreeLineIconListItem:
                    text: "Airport to Agora mall"
                    secondary_text: "March 10, 2023"
                    tertiary_text: "Rs 12.00"
                    theme_text_color: "Primary"
                    secondary_theme_text_color: "Secondary"
                    tertiary_theme_text_color: "Secondary"
                    
                    IconLeftWidget:
                        icon: "car"
                        theme_text_color: "Custom"
                        text_color: 0.13, 0.59, 0.95, 1

        # Logout Button at the Bottom
        MDBoxLayout:
            size_hint_y: None
            height: dp(60)
            padding: dp(10)

            MDRaisedButton:
                text: "Logout"
                size_hint_x: 1
                md_bg_color: 1, 0, 0, 1
                on_release: app.root.current = "carpool"
